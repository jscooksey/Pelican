<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Justin Cooksey Codes - Network DevOps</title><link href="https://jscooksey.github.io/Pelican/" rel="alternate"></link><link href="https://jscooksey.github.io/Pelican/feeds/network-devops.atom.xml" rel="self"></link><id>https://jscooksey.github.io/Pelican/</id><updated>2021-03-04T08:00:00+11:00</updated><subtitle>Thoughts and Code by Justin Cooksey</subtitle><entry><title>Windows Server DHCP conversion to Cisco CLI</title><link href="https://jscooksey.github.io/Pelican/blog/2021/2021-03-04-windows-server-dhcp-conversion-to-cisco-cli.html" rel="alternate"></link><published>2021-03-04T08:00:00+11:00</published><updated>2021-03-04T08:00:00+11:00</updated><author><name>Justin Cooksey</name></author><id>tag:jscooksey.github.io,2021-03-04:/Pelican/blog/2021/2021-03-04-windows-server-dhcp-conversion-to-cisco-cli.html</id><summary type="html">&lt;p&gt;A Windows Powershell script to ease the transition from a Windows DHCP server to a Cisco router DHCP. Convert from a backup to the Cisco command line.&lt;/p&gt;</summary><content type="html">&lt;p&gt;I recently ran in to an issue where I needed to convert a reasonably large DHCP database from a Windows Server in to a Cisco CLI to allow the Cisco to take over DHCP roles for a subnet. I found nothing that realy automated this task, even using the exported XML file. So knowing that this was the second time I needed the tool, and likely to need it again, even if it was for smaller tasks, I set about coding it in Powershell. It is the scripting system well supported in Windows land.&lt;/p&gt;
&lt;p&gt;The current version of the script can be found on my GitHub repository:
&lt;a href="https://github.com/jscooksey/Convert-WindowsDHCPToCisco"&gt;Convert-WindowsDHCPToCisco&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Still ha smany DHCP options that it hasn't been setup to hanle at this point but it does follow the basic ones that most of us use.&lt;/p&gt;
&lt;h4 id="currently-handles-dhcp-options"&gt;Currently handles DHCP Options&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Code&lt;/th&gt;
&lt;th&gt;Option Description&lt;/th&gt;
&lt;th&gt;Cisco Output&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;Default Gateway&lt;/td&gt;
&lt;td&gt;default-router&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;Time Server&lt;/td&gt;
&lt;td&gt;&lt;em&gt;ignoring&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;Domain Nameserver&lt;/td&gt;
&lt;td&gt;dns-server&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;Domain Name&lt;/td&gt;
&lt;td&gt;domain-name&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;42&lt;/td&gt;
&lt;td&gt;NTP Servers&lt;/td&gt;
&lt;td&gt;option 42 ip&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;51&lt;/td&gt;
&lt;td&gt;Lease time&lt;/td&gt;
&lt;td&gt;&lt;em&gt;ignoring&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;66&lt;/td&gt;
&lt;td&gt;TFTP Server&lt;/td&gt;
&lt;td&gt;next-server&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;67&lt;/td&gt;
&lt;td&gt;Boot filename&lt;/td&gt;
&lt;td&gt;bootfile&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;81&lt;/td&gt;
&lt;td&gt;MS DHCP Name Protection&lt;/td&gt;
&lt;td&gt;&lt;em&gt;ignoring&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;121&lt;/td&gt;
&lt;td&gt;Static routes&lt;/td&gt;
&lt;td&gt;option 121 hex&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;161&lt;/td&gt;
&lt;td&gt;FTP Server&lt;/td&gt;
&lt;td&gt;option 161 ip&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;162&lt;/td&gt;
&lt;td&gt;Path&lt;/td&gt;
&lt;td&gt;option 162 ascii&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;252&lt;/td&gt;
&lt;td&gt;Proxy PAC URL&lt;/td&gt;
&lt;td&gt;option 252 asicc&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id="dhcp-references-used"&gt;DHCP References Used&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/rfc2132"&gt;RFC2312&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol#Client_configuration_parameters"&gt;Wikipedia DHCP Options table&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Network DevOps"></category><category term="DHCP"></category><category term="Windows"></category><category term="PowerShell"></category><category term="Cisco"></category></entry></feed>